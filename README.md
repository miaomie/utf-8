# 文本编码浏览器工具

一个现代化的Web应用，用于检测和转换文本文件的编码格式，支持多种编码格式转换为UTF-8。

## ✨ 主要功能

- **文件上传**: 支持拖拽和点击上传，最大支持50MB的txt文件
- **编码检测**: 自动检测文件编码格式
- **编码转换**: 支持手动选择编码，转换为UTF-8格式
- **实时预览**: 转换前后都支持预览，显示前500个字符
- **实时编码切换**: 选择不同编码时实时预览效果
- **文件下载**: 转换完成后可下载UTF-8编码的文件
- **响应式设计**: 支持各种设备尺寸

## 🚀 使用方法

### 1. 上传文件
- 点击"选择文件"按钮选择txt文件
- 或者直接拖拽文件到上传区域
- 支持的文件格式：.txt
- 最大文件大小：50MB

### 2. 选择编码
- 工具默认选择GBK编码（适合中文文件）
- 会自动检测文件编码并设置合适的默认值
- 可以手动选择其他编码格式
- 选择编码后会实时预览效果
- 支持的编码格式：
  - GBK（默认）
  - GB2312
  - UTF-8
  - Big5
  - Shift-JIS
  - EUC-JP
  - EUC-KR
  - ISO-8859-1
  - Windows-1252
  - UTF-16

### 3. 转换编码
- 点击"转换为UTF-8"按钮
- 系统会使用选择的编码读取文件
- 然后转换为UTF-8格式

### 4. 预览和下载
- 转换前后都可以预览文件内容
- 显示前500个字符的预览
- 转换完成后可以下载UTF-8格式的文件

## 🎨 界面特性

- **现代化设计**: 使用渐变色彩和阴影效果
- **响应式布局**: 适配桌面和移动设备
- **拖拽支持**: 支持文件拖拽上传
- **实时反馈**: 操作状态和结果实时显示
- **美观动画**: 悬停和点击效果
- **实时预览**: 编码切换时立即看到效果

## 🛠️ 技术实现

- **前端**: HTML5 + CSS3 + JavaScript (ES6+)
- **文件处理**: File API + TextEncoder/TextDecoder
- **编码检测**: 基于BOM和智能编码验证
- **响应式**: CSS Grid + Flexbox + Media Queries
- **浏览器兼容**: 现代浏览器（Chrome, Firefox, Safari, Edge）

## 🔧 修复的问题

### GBK编码转换问题
- **问题**: 之前的版本在GBK编码转换时会出现乱码
- **原因**: 编码处理逻辑错误，没有保存原始ArrayBuffer
- **解决方案**: 
  - 保存原始文件的ArrayBuffer
  - 重写编码转换逻辑
  - 改进编码检测算法
  - 添加实时编码切换预览

### 默认编码选择优化
- **改进**: 默认选择GBK编码，更适合中文文件
- **原因**: 大多数中文文本文件使用GBK编码
- **好处**: 
  - 减少用户手动选择编码的操作
  - 提高中文文件的处理效率
  - 保持手动选择其他编码的灵活性

## 📱 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

## 🔧 本地运行

1. 下载所有文件到本地目录
2. 用浏览器打开 `index.html` 文件
3. 开始使用工具

## 📝 注意事项

- 仅支持.txt文本文件
- 文件大小限制为50MB
- 编码检测基于智能算法，准确率较高
- 支持实时编码切换预览
- 转换后的文件会添加"_utf8"后缀

## 🧪 测试文件

- `test.txt` - 基本功能测试文件
- `gbk_test.txt` - GBK编码转换测试文件

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个工具！

## 📄 许可证

MIT License - 可自由使用和修改 